{
  "version": 3,
  "sources": ["../../../app/routes/register.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\routes\\\\\\\\register.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\routes\\\\register.tsx\");\n}\n// REMIX HMR END\n\nimport React, { useState } from \"react\";\nimport { Paper, TextInput, PasswordInput, Button, Title, Text, Progress, Box, Center, Group } from \"@mantine/core\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport classes from \"~/style/AuthenticationImage.module.css\";\nimport pb from \"../lib/pocketbase\";\nimport { IconCheck, IconX } from \"@tabler/icons-react\";\nexport function links() {\n  return [{\n    rel: \"stylesheet\",\n    href: classes\n  }];\n}\nconst requirements = [{\n  re: /[0-9]/,\n  label: \"\u010C\u00EDslo\"\n}, {\n  re: /[a-z]/,\n  label: \"Mal\u00E9 p\u00EDsmenko\"\n}, {\n  re: /[A-Z]/,\n  label: \"Velk\u00E9 p\u00EDsmenko\"\n}, {\n  re: /[$&+,:;=?@#|'<>.^*()%!-]/,\n  label: \"Speci\u00E1ln\u00ED znak\"\n}];\nfunction getStrength(password) {\n  let multiplier = password.length > 5 ? 0 : 1;\n  requirements.forEach(requirement => {\n    if (!requirement.re.test(password)) {\n      multiplier += 1;\n    }\n  });\n  return Math.max(100 - 100 / (requirements.length + 1) * multiplier, 0);\n}\nfunction checkPasswordRequirements(password) {\n  return requirements.every(requirement => requirement.re.test(password));\n}\nfunction PasswordRequirement({\n  meets,\n  label\n}) {\n  return <Text component=\"div\" color={meets ? \"teal\" : \"red\"} mt={5} size=\"sm\">\r\n      <Center inline>\r\n        {meets ? <IconCheck size=\"0.9rem\" stroke={1.5} /> : <IconX size=\"0.9rem\" stroke={1.5} />}\n        \r\n        <Box ml={7}>{label}</Box>\r\n      </Center>\r\n    </Text>;\n}\n_c = PasswordRequirement;\nconst AuthenticationImage = () => {\n  _s();\n  const [error, setError] = useState(\"\");\n  const [isTouched, setIsTouched] = useState({\n    email: false,\n    password: false,\n    name: false,\n    surname: false,\n    username: false\n  });\n  const navigate = useNavigate();\n  const initialFormData = {\n    username: \"\",\n    email: \"\",\n    emailVisibility: true,\n    password: \"\",\n    passwordConfirm: \"\",\n    name: \"\",\n    surname: \"\",\n    premium: false\n  };\n  const [formData, setFormData] = useState(initialFormData);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleRegisterClick = async e => {\n    e.preventDefault();\n    setIsTouched({\n      email: true,\n      password: true,\n      name: true,\n      surname: true,\n      username: true\n    });\n    if (!formData.email || !formData.password || !formData.name || !formData.surname || !formData.username) {\n      setError(\"Pros\u00EDm vypl\u0148te v\u0161echna pole\");\n      return;\n    }\n    if (!isValidEmail(formData.email)) {\n      setError(\"Pros\u00EDm zadejte platn\u00FD email\");\n      return;\n    }\n    if (!checkPasswordRequirements(formData.password)) {\n      setError(\"Heslo nespl\u0148uje po\u017Eadavky\");\n      return;\n    }\n    formData.passwordConfirm = formData.password;\n    try {\n      console.log(\"Registering user\", formData);\n      const record = await pb.collection(\"users\").create(formData);\n      console.log(\"Registration successful\");\n      navigate(\"/login\");\n    } catch (error) {\n      console.error(\"Registration failed\", error);\n    }\n  };\n  const isValidEmail = email => {\n    return /\\S+@\\S+\\.\\S+/.test(email);\n  };\n\n  /*\r\n  const handleLogin = async () => {\r\n      try {\r\n      const authData = await pb\r\n        .collection(\"users\")\r\n        .authWithPassword(formData.email, formData.password);\r\n      console.log(\"Authentication Successful\", authData);\r\n      navigate(\"/app\");\r\n    } catch (err) {\r\n      if (err instanceof Error) {\r\n        setError(\"Nepoda\u0159ilo se zaregistrovat, zkuste to pros\u00EDm znovu\");\r\n      } else {\r\n        setError(\"Nastala chyba, zkuste to pros\u00EDm znovu pozd\u011Bji\");\r\n      }\r\n    }\r\n  };\r\n    */\n\n  const emailClasses = `${classes.input} ${isTouched.email && (!formData.email || !isValidEmail(formData.email)) ? classes.error : \"\"}`;\n  const passwordClasses = `${classes.input} ${isTouched.password && !formData.password ? classes.error2 : \"\"}`;\n  const nameClasses = `${classes.input} ${isTouched.name && !formData.name ? classes.error : \"\"}`;\n  const surnameClasses = `${classes.input} ${isTouched.surname && !formData.surname ? classes.error : \"\"}`;\n  const usernameClasses = `${classes.input} ${isTouched.username && !formData.username ? classes.error : \"\"}`;\n  const strength = getStrength(formData.password);\n  const checks = requirements.map((requirement, index) => <PasswordRequirement key={index} label={requirement.label} meets={requirement.re.test(formData.password)} />);\n  const bars = Array(4).fill(0).map((_, index) => <Progress styles={{\n    section: {\n      transitionDuration: \"0ms\"\n    }\n  }} value={formData.password.length > 0 && index === 0 ? 100 : strength >= (index + 1) / 4 * 100 ? 100 : 0} color={strength > 80 ? \"teal\" : strength > 50 ? \"yellow\" : \"red\"} key={index} size={4} />);\n  return <div className={classes.wrapper}>\r\n      <Paper className={classes.form} radius={0} p={30}>\r\n        <Title order={2} className={classes.title} ta=\"center\" mt=\"md\" mb={50}>\r\n          Zaregistrujte se\r\n        </Title>\r\n\r\n        <TextInput label=\"Jm\u00E9no:\" placeholder=\"Jm\u00E9no\" size=\"md\" mt=\"md\" name=\"name\" value={formData.name} onChange={handleChange} className={nameClasses} />\n        \r\n\r\n        <TextInput label=\"P\u0159ijmen\u00ED:\" placeholder=\"P\u0159ijmen\u00ED\" size=\"md\" mt=\"md\" name=\"surname\" value={formData.surname} onChange={handleChange} className={surnameClasses} />\n        \r\n\r\n        <TextInput label=\"U\u017Eivatelsk\u00E9 jm\u00E9no:\" placeholder=\"U\u017Eivatelsk\u00E9 jm\u00E9no\" size=\"md\" mt=\"md\" name=\"username\" value={formData.username} onChange={handleChange} className={usernameClasses} />\n        \r\n\r\n        <TextInput label=\"Email:\" placeholder=\"V\u00E1\u0161 email\" mt=\"md\" size=\"md\" name=\"email\" value={formData.email} onChange={handleChange} className={emailClasses} />\n        \r\n\r\n        <div>\r\n          <PasswordInput label=\"Heslo:\" placeholder=\"Va\u0161e heslo\" mt=\"md\" size=\"md\" name=\"password\" value={formData.password} onChange={handleChange} className={passwordClasses} />\n          \r\n\r\n          <Group gap={5} grow mt=\"xs\" mb=\"md\">\r\n            {bars}\r\n          </Group>\r\n\r\n          <PasswordRequirement label=\"Minim\u00E1ln\u011B 5 znak\u016F\" meets={formData.password.length > 4} />\n          \r\n          {checks}\r\n        </div>\r\n\r\n        <Button fullWidth mt=\"xl\" size=\"md\" onClick={handleRegisterClick}>\r\n          Zaregistrovat se\r\n        </Button>\r\n\r\n        {error && <Text color=\"red\" mt=\"md\">\r\n            {error}\r\n          </Text>}\n        \r\n\r\n        <Text ta=\"center\" mt=\"md\">\r\n          Ji\u017E m\u00E1te \u00FA\u010Det? <Link to=\"/login\">P\u0159ihl\u00E1sit se</Link>\r\n        </Text>\r\n      </Paper>\r\n    </div>;\n};\n_s(AuthenticationImage, \"c10GCfZ64dA/prQ6js6MOV0y8mY=\", false, function () {\n  return [useNavigate];\n});\n_c2 = AuthenticationImage;\nexport default AuthenticationImage;\nvar _c, _c2;\n$RefreshReg$(_c, \"PasswordRequirement\");\n$RefreshReg$(_c2, \"AuthenticationImage\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBA,mBAAgC;AAEhC;AAyCiB;AA9DjB,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,oCAAsC,EAAE;AAAA,EACjF;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMN,IAAI,KAAK,aAAa;AAEtB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAA2B;AAC7B;AASO,SAAS,QAAQ;AACtB,SAAO,CAAC;AAAA,IACN,KAAK;AAAA,IACL,MAAM;AAAA,EACR,CAAC;AACH;AACA,IAAM,eAAe,CAAC;AAAA,EACpB,IAAI;AAAA,EACJ,OAAO;AACT,GAAG;AAAA,EACD,IAAI;AAAA,EACJ,OAAO;AACT,GAAG;AAAA,EACD,IAAI;AAAA,EACJ,OAAO;AACT,GAAG;AAAA,EACD,IAAI;AAAA,EACJ,OAAO;AACT,CAAC;AACD,SAAS,YAAY,UAAU;AAC7B,MAAI,aAAa,SAAS,SAAS,IAAI,IAAI;AAC3C,eAAa,QAAQ,iBAAe;AAClC,QAAI,CAAC,YAAY,GAAG,KAAK,QAAQ,GAAG;AAClC,oBAAc;AAAA,IAChB;AAAA,EACF,CAAC;AACD,SAAO,KAAK,IAAI,MAAM,OAAO,aAAa,SAAS,KAAK,YAAY,CAAC;AACvE;AACA,SAAS,0BAA0B,UAAU;AAC3C,SAAO,aAAa,MAAM,iBAAe,YAAY,GAAG,KAAK,QAAQ,CAAC;AACxE;AACA,SAAS,oBAAoB;AAAA,EAC3B;AAAA,EACA;AACF,GAAG;AACD,SAAO,mDAAC,QAAK,WAAU,OAAM,OAAO,QAAQ,SAAS,OAAO,IAAI,GAAG,MAAK,MACpE,6DAAC,UAAO,QAAM,MACX;AAAA,YAAQ,mDAAC,aAAU,MAAK,UAAS,QAAQ,OAAjC;AAAA;AAAA;AAAA;AAAA,WAAsC,IAAK,mDAAC,SAAM,MAAK,UAAS,QAAQ,OAA7B;AAAA;AAAA;AAAA;AAAA,WAAkC;AAAA,IAEtF,mDAAC,OAAI,IAAI,GAAI,mBAAb;AAAA;AAAA;AAAA;AAAA,WAAmB;AAAA,OAHrB;AAAA;AAAA;AAAA;AAAA,SAIA,KALG;AAAA;AAAA;AAAA;AAAA,SAML;AACJ;AACA,KAAK;AACL,IAAM,sBAAsB,MAAM;AAChC,KAAG;AACH,QAAM,CAAC,OAAO,QAAQ,QAAI,uBAAS,EAAE;AACrC,QAAM,CAAC,WAAW,YAAY,QAAI,uBAAS;AAAA,IACzC,OAAO;AAAA,IACP,UAAU;AAAA,IACV,MAAM;AAAA,IACN,SAAS;AAAA,IACT,UAAU;AAAA,EACZ,CAAC;AACD,QAAM,WAAW,YAAY;AAC7B,QAAM,kBAAkB;AAAA,IACtB,UAAU;AAAA,IACV,OAAO;AAAA,IACP,iBAAiB;AAAA,IACjB,UAAU;AAAA,IACV,iBAAiB;AAAA,IACjB,MAAM;AAAA,IACN,SAAS;AAAA,IACT,SAAS;AAAA,EACX;AACA,QAAM,CAAC,UAAU,WAAW,QAAI,uBAAS,eAAe;AACxD,QAAM,eAAe,OAAK;AACxB,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,IACF,IAAI,EAAE;AACN,gBAAY;AAAA,MACV,GAAG;AAAA,MACH,CAAC,IAAI,GAAG;AAAA,IACV,CAAC;AAAA,EACH;AACA,QAAM,sBAAsB,OAAM,MAAK;AACrC,MAAE,eAAe;AACjB,iBAAa;AAAA,MACX,OAAO;AAAA,MACP,UAAU;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,MACT,UAAU;AAAA,IACZ,CAAC;AACD,QAAI,CAAC,SAAS,SAAS,CAAC,SAAS,YAAY,CAAC,SAAS,QAAQ,CAAC,SAAS,WAAW,CAAC,SAAS,UAAU;AACtG,eAAS,0CAA6B;AACtC;AAAA,IACF;AACA,QAAI,CAAC,aAAa,SAAS,KAAK,GAAG;AACjC,eAAS,mCAA6B;AACtC;AAAA,IACF;AACA,QAAI,CAAC,0BAA0B,SAAS,QAAQ,GAAG;AACjD,eAAS,qCAA2B;AACpC;AAAA,IACF;AACA,aAAS,kBAAkB,SAAS;AACpC,QAAI;AACF,cAAQ,IAAI,oBAAoB,QAAQ;AACxC,YAAM,SAAS,MAAM,mBAAG,WAAW,OAAO,EAAE,OAAO,QAAQ;AAC3D,cAAQ,IAAI,yBAAyB;AACrC,eAAS,QAAQ;AAAA,IACnB,SAASA,QAAP;AACA,cAAQ,MAAM,uBAAuBA,MAAK;AAAA,IAC5C;AAAA,EACF;AACA,QAAM,eAAe,WAAS;AAC5B,WAAO,eAAe,KAAK,KAAK;AAAA,EAClC;AAoBA,QAAM,eAAe,GAAG,mCAAQ,SAAS,UAAU,UAAU,CAAC,SAAS,SAAS,CAAC,aAAa,SAAS,KAAK,KAAK,mCAAQ,QAAQ;AACjI,QAAM,kBAAkB,GAAG,mCAAQ,SAAS,UAAU,YAAY,CAAC,SAAS,WAAW,mCAAQ,SAAS;AACxG,QAAM,cAAc,GAAG,mCAAQ,SAAS,UAAU,QAAQ,CAAC,SAAS,OAAO,mCAAQ,QAAQ;AAC3F,QAAM,iBAAiB,GAAG,mCAAQ,SAAS,UAAU,WAAW,CAAC,SAAS,UAAU,mCAAQ,QAAQ;AACpG,QAAM,kBAAkB,GAAG,mCAAQ,SAAS,UAAU,YAAY,CAAC,SAAS,WAAW,mCAAQ,QAAQ;AACvG,QAAM,WAAW,YAAY,SAAS,QAAQ;AAC9C,QAAM,SAAS,aAAa,IAAI,CAAC,aAAa,UAAU,mDAAC,uBAAgC,OAAO,YAAY,OAAO,OAAO,YAAY,GAAG,KAAK,SAAS,QAAQ,KAA7E,OAA1B;AAAA;AAAA;AAAA;AAAA,SAA0G,CAAE;AACpK,QAAM,OAAO,MAAM,CAAC,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC,GAAG,UAAU,mDAAC,YAAS,QAAQ;AAAA,IAChE,SAAS;AAAA,MACP,oBAAoB;AAAA,IACtB;AAAA,EACF,GAAG,OAAO,SAAS,SAAS,SAAS,KAAK,UAAU,IAAI,MAAM,aAAa,QAAQ,KAAK,IAAI,MAAM,MAAM,GAAG,OAAO,WAAW,KAAK,SAAS,WAAW,KAAK,WAAW,OAAmB,MAAM,KAAb,OAJlI;AAAA;AAAA;AAAA;AAAA,SAIkJ,CAAE;AACpM,SAAO,mDAAC,SAAI,WAAW,mCAAQ,SAC3B,6DAAC,SAAM,WAAW,mCAAQ,MAAM,QAAQ,GAAG,GAAG,IAC5C;AAAA,uDAAC,SAAM,OAAO,GAAG,WAAW,mCAAQ,OAAO,IAAG,UAAS,IAAG,MAAK,IAAI,IAAI,gCAAvE;AAAA;AAAA;AAAA;AAAA,WAEA;AAAA,IAEA,mDAAC,aAAU,OAAM,aAAS,aAAY,YAAQ,MAAK,MAAK,IAAG,MAAK,MAAK,QAAO,OAAO,SAAS,MAAM,UAAU,cAAc,WAAW,eAArI;AAAA;AAAA;AAAA;AAAA,WAAkJ;AAAA,IAGlJ,mDAAC,aAAU,OAAM,qBAAY,aAAY,oBAAW,MAAK,MAAK,IAAG,MAAK,MAAK,WAAU,OAAO,SAAS,SAAS,UAAU,cAAc,WAAW,kBAAjJ;AAAA;AAAA;AAAA;AAAA,WAAiK;AAAA,IAGjK,mDAAC,aAAU,OAAM,iCAAqB,aAAY,gCAAoB,MAAK,MAAK,IAAG,MAAK,MAAK,YAAW,OAAO,SAAS,UAAU,UAAU,cAAc,WAAW,mBAArK;AAAA;AAAA;AAAA;AAAA,WAAsL;AAAA,IAGtL,mDAAC,aAAU,OAAM,UAAS,aAAY,qBAAY,IAAG,MAAK,MAAK,MAAK,MAAK,SAAQ,OAAO,SAAS,OAAO,UAAU,cAAc,WAAW,gBAA3I;AAAA;AAAA;AAAA;AAAA,WAAyJ;AAAA,IAGzJ,mDAAC,SACC;AAAA,yDAAC,iBAAc,OAAM,UAAS,aAAY,mBAAa,IAAG,MAAK,MAAK,MAAK,MAAK,YAAW,OAAO,SAAS,UAAU,UAAU,cAAc,WAAW,mBAAtJ;AAAA;AAAA;AAAA;AAAA,aAAuK;AAAA,MAGvK,mDAAC,SAAM,KAAK,GAAG,MAAI,MAAC,IAAG,MAAK,IAAG,MAC5B,kBADH;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,MAEA,mDAAC,uBAAoB,OAAM,kCAAoB,OAAO,SAAS,SAAS,SAAS,KAAjF;AAAA;AAAA;AAAA;AAAA,aAAoF;AAAA,MAEnF;AAAA,SAVH;AAAA;AAAA;AAAA;AAAA,WAWA;AAAA,IAEA,mDAAC,UAAO,WAAS,MAAC,IAAG,MAAK,MAAK,MAAK,SAAS,qBAAqB,gCAAlE;AAAA;AAAA;AAAA;AAAA,WAEA;AAAA,IAEC,SAAS,mDAAC,QAAK,OAAM,OAAM,IAAG,MAC1B,mBADK;AAAA;AAAA;AAAA;AAAA,WAER;AAAA,IAGF,mDAAC,QAAK,IAAG,UAAS,IAAG,MAAK;AAAA;AAAA,MACT,mDAAC,QAAK,IAAG,UAAS,oCAAlB;AAAA;AAAA;AAAA;AAAA,aAA8B;AAAA,SAD/C;AAAA;AAAA;AAAA;AAAA,WAEA;AAAA,OAzCF;AAAA;AAAA;AAAA;AAAA,SA0CA,KA3CG;AAAA;AAAA;AAAA;AAAA,SA4CL;AACJ;AACA,GAAG,qBAAqB,gCAAgC,OAAO,WAAY;AACzE,SAAO,CAAC,WAAW;AACrB,CAAC;AACD,MAAM;AACN,IAAO,mBAAQ;AACf,IAAI;AAAJ,IAAQ;AACR,aAAa,IAAI,qBAAqB;AACtC,aAAa,KAAK,qBAAqB;AAEvC,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": ["error"]
}
